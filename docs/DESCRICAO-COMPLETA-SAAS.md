# MoncoyFinance - DescriÃ§Ã£o Completa do SaaS

## ğŸ“Š VisÃ£o Geral

**MoncoyFinance** Ã© uma plataforma SaaS completa de gestÃ£o financeira pessoal para o mercado brasileiro, com inteligÃªncia artificial integrada, sistema de assinaturas multi-tier e autenticaÃ§Ã£o social. A plataforma oferece controle completo das finanÃ§as pessoais, anÃ¡lises preditivas e insights personalizados atravÃ©s de IA generativa.

**Site:** https://moncoyfinance.com  
**VersÃ£o:** 0.1.0  
**Status:** Em ProduÃ§Ã£o  
**Modelo de NegÃ³cio:** Freemium com planos Basic, Professional e Premium

---

## ğŸ¯ Problema Resolvido

Brasileiros enfrentam dificuldades para:
- Controlar gastos e receitas mensais
- Planejar metas financeiras de longo prazo
- Entender padrÃµes de consumo
- Gerenciar investimentos e compromissos financeiros
- Obter insights personalizados sobre suas finanÃ§as

**MoncoyFinance** resolve esses problemas oferecendo uma plataforma intuitiva, inteligente e acessÃ­vel, com anÃ¡lises de IA que aprendem os hÃ¡bitos financeiros do usuÃ¡rio.

---

## ğŸš€ Funcionalidades Principais

### 1. **GestÃ£o Financeira Completa**

#### TransaÃ§Ãµes Inteligentes
- âœ… Registro de receitas e despesas com categorizaÃ§Ã£o automÃ¡tica
- âœ… TransaÃ§Ãµes recorrentes (diÃ¡rias, semanais, mensais, anuais)
- âœ… Status automÃ¡tico: pendente, concluÃ­do, atrasado, vencendo em breve
- âœ… PriorizaÃ§Ã£o (baixa, mÃ©dia, alta)
- âœ… MÃ©todos de pagamento mÃºltiplos
- âœ… Notas e anexos para contexto adicional

#### Categorias PersonalizÃ¡veis
- âœ… Categorias customizÃ¡veis por tipo (receita/despesa)
- âœ… Sistema de cores para identificaÃ§Ã£o visual
- âœ… Categorias padrÃ£o + criaÃ§Ã£o de categorias prÃ³prias

#### OrÃ§amento e Metas
- âœ… DefiniÃ§Ã£o de metas financeiras com prazos
- âœ… Acompanhamento de progresso em tempo real
- âœ… Alertas de orÃ§amento e metas prÃ³ximas do objetivo
- âœ… PriorizaÃ§Ã£o de metas

### 2. **Investimentos e PatrimÃ´nio**

#### PortfÃ³lio de Investimentos
- âœ… Cadastro de ativos: aÃ§Ãµes, FIIs, ETFs, renda fixa, criptomoedas, fundos
- âœ… HistÃ³rico de compra/venda com preÃ§o mÃ©dio automÃ¡tico
- âœ… IntegraÃ§Ã£o com corretoras (via cadastro manual)
- âœ… CÃ¡lculo de rentabilidade e desempenho

#### AnÃ¡lise de PortfÃ³lio
- âœ… DiversificaÃ§Ã£o por tipo de ativo
- âœ… GrÃ¡ficos de evoluÃ§Ã£o patrimonial
- âœ… ComparaÃ§Ã£o de performance

### 3. **Agenda Financeira**

#### CalendÃ¡rio de Compromissos
- âœ… VisualizaÃ§Ã£o em calendÃ¡rio mensal/semanal/diÃ¡rio
- âœ… Tipos: receita, despesa, investimento, reuniÃ£o, outros
- âœ… Compromissos recorrentes
- âœ… NotificaÃ§Ãµes de lembrete

### 4. **InteligÃªncia Artificial Generativa**

#### IA Adaptativa com PerÃ­odo de Aprendizado
- âœ… **Plano Basic**: PerÃ­odo de aprendizado de 22 dias antes de liberar IA
- âœ… **Planos Pro/Premium**: Acesso imediato Ã  IA

#### AnÃ¡lises DisponÃ­veis
- âœ… AnÃ¡lise de padrÃµes de gastos
- âœ… SugestÃµes de economia personalizadas
- âœ… Alertas de orÃ§amento proativos
- âœ… PrevisÃµes de saldo futuro
- âœ… RecomendaÃ§Ãµes de investimento
- âœ… AnÃ¡lise de comprometimento de renda

#### Modelos de IA por Plano
- **Basic**: GPT-4o-mini (5 perguntas/semana apÃ³s 22 dias)
- **Professional**: GPT-4o-mini (7 perguntas/semana)
- **Premium**: GPT-4o (50 perguntas/mÃªs)

#### Sistema de Controle de Uso
- âœ… Contador de perguntas server-side no banco de dados
- âœ… SincronizaÃ§Ã£o entre dispositivos
- âœ… Reset automÃ¡tico semanal (Basic/Pro) ou mensal (Premium)
- âœ… Display de perguntas restantes na interface
- âœ… Analytics de uso para administraÃ§Ã£o

### 5. **RelatÃ³rios e Insights**

#### Dashboards Interativos
- âœ… Resumo financeiro mensal
- âœ… GrÃ¡ficos de receitas vs. despesas
- âœ… AnÃ¡lise de categorias mais gastadas
- âœ… ProjeÃ§Ãµes de saldo
- âœ… Indicadores de saÃºde financeira

#### RelatÃ³rios ExportÃ¡veis
- âœ… RelatÃ³rios mensais em PDF (planos Pro/Premium)
- âœ… Extrato de transaÃ§Ãµes por perÃ­odo
- âœ… RelatÃ³rio de metas e progresso
- âœ… Consolidado de investimentos

### 6. **NotificaÃ§Ãµes Inteligentes**

- âœ… Alertas de vencimento de contas
- âœ… NotificaÃ§Ãµes de metas prÃ³ximas ao objetivo
- âœ… Avisos de orÃ§amento estourado
- âœ… Lembretes de transaÃ§Ãµes recorrentes
- âœ… Insights de IA (quando disponÃ­veis)

### 7. **Sistema de Suporte**

#### Suporte Multi-canal
- âœ… Chat ao vivo (planos Pro/Premium)
- âœ… Email support (todos os planos)
- âœ… WhatsApp Business (planos Pro/Premium)
- âœ… Base de conhecimento
- âœ… Sistema de tickets com priorizaÃ§Ã£o

#### Portal do Cliente
- âœ… HistÃ³rico de tickets
- âœ… FAQ interativo
- âœ… Tutoriais em vÃ­deo
- âœ… HorÃ¡rio comercial expandido para Premium

---

## ğŸ’° Planos e PreÃ§os

### ğŸ†“ Plano Basic - R$ 19,90/mÃªs

**Funcionalidades:**
- âœ… GestÃ£o completa de transaÃ§Ãµes
- âœ… Categorias ilimitadas
- âœ… Metas financeiras
- âœ… Investimentos bÃ¡sicos
- âœ… Agenda financeira
- â³ **IA apÃ³s 22 dias de uso** (perÃ­odo de aprendizado)
- ğŸ“Š 5 perguntas de IA por semana (apÃ³s liberaÃ§Ã£o)
- ğŸ“„ RelatÃ³rios simples
- ğŸ“§ Suporte por email

**Ideal para:** UsuÃ¡rios iniciando no controle financeiro

---

### ğŸ’¼ Plano Professional - R$ 49,90/mÃªs

**Tudo do Basic +**
- âœ… **IA liberada imediatamente** (sem perÃ­odo de espera)
- ğŸ“Š 7 perguntas de IA por semana (1 por dia)
- ğŸ“ˆ AnÃ¡lises detalhadas
- ğŸ“„ RelatÃ³rios em PDF
- ğŸ’¾ HistÃ³rico de conversas com IA
- ğŸ”” Alertas de gastos avanÃ§ados
- ğŸ“± Acesso mobile prioritÃ¡rio
- ğŸ“§ğŸ’¬ Suporte email + WhatsApp

**Ideal para:** Profissionais que buscam controle avanÃ§ado

---

### ğŸ‘‘ Plano Premium - R$ 59,90/mÃªs

**Tudo do Professional +**
- âœ… **IA GPT-4o** (modelo mais avanÃ§ado)
- ğŸ“Š 50 perguntas de IA por mÃªs
- ğŸ”¬ AnÃ¡lises avanÃ§adas e preditivas
- ğŸ“Š RelatÃ³rios executivos completos
- ğŸ¯ Consultoria financeira via IA
- ğŸ“ˆ PrevisÃµes de mercado
- ğŸ† Suporte prioritÃ¡rio 24/7
- ğŸ’¬ Chat ao vivo
- ğŸ“ Atendimento telefÃ´nico

**Ideal para:** Investidores e gestores de patrimÃ´nio

---

## ğŸ—ï¸ Arquitetura TÃ©cnica

### Stack TecnolÃ³gico

#### Frontend
- **Framework**: Next.js 15.5.2 (App Router + React 19)
- **UI Library**: Radix UI + shadcn/ui
- **Styling**: Tailwind CSS 4.1.9 + Tailwind Animate
- **Fontes**: Geist Sans/Mono (Vercel)
- **Ãcones**: Lucide React
- **GrÃ¡ficos**: Recharts + React Big Calendar
- **Forms**: React Hook Form + Zod validation
- **State**: React Context API

#### Backend & Infraestrutura
- **Database**: Supabase (PostgreSQL)
- **Authentication**: Supabase Auth + Google OAuth
- **Storage**: Supabase Storage (fotos de perfil)
- **API**: Next.js API Routes + Server Actions
- **AI**: OpenAI API (GPT-4o / GPT-4o-mini)
- **Payments**: Stripe Checkout + Billing Portal
- **Deployment**: Docker + Standalone build
- **Analytics**: Vercel Speed Insights

#### SeguranÃ§a
- **Row Level Security (RLS)**: PolÃ­ticas no Supabase
- **Server-side rendering**: ProteÃ§Ã£o de dados sensÃ­veis
- **HTTPS**: ObrigatÃ³rio em produÃ§Ã£o
- **CORS**: Configurado para domÃ­nio prÃ³prio
- **Cookies**: Secure + SameSite

### PadrÃµes de Arquitetura

#### Client/Server Boundary
```typescript
// Server Components (padrÃ£o em app/)
async function Page() {
  const supabase = await createClient() // Server-side
  const { data } = await supabase.from('transactions').select()
  return <Dashboard data={data} />
}

// Client Components (com "use client")
'use client'
function TransactionForm() {
  const supabase = supabase // Client singleton
  // ...
}

// Server Actions (com "use server")
'use server'
async function createTransaction(formData: FormData) {
  const supabase = await createClient() // Sempre await!
  // ...
}
```

#### Camada de API Centralizada
```typescript
// @/lib/api.ts - Single source of truth
export const userApi = {
  getCurrentUser: () => Promise<User>,
  updateUser: (data) => Promise<User>,
  createUserProfile: () => Promise<void>,
}

export const transactionsApi = { /* ... */ }
export const goalsApi = { /* ... */ }
export const investmentsApi = { /* ... */ }
```

#### Fluxo de AutenticaÃ§Ã£o
1. Login via email/senha ou Google OAuth
2. CriaÃ§Ã£o automÃ¡tica de perfil em `public.users`
3. VerificaÃ§Ã£o de role (user/admin via `ADMIN_EMAILS`)
4. ProteÃ§Ã£o de rotas via Guards: `UserGuard`, `AdminGuard`, `PublicGuard`
5. Session persistente com cookies HttpOnly

### Banco de Dados

#### Tabelas Principais
- `users` - Perfis de usuÃ¡rios + planos
- `transactions` - Receitas/despesas + recorrÃªncias
- `categories` - Categorias personalizÃ¡veis
- `goals` - Metas financeiras
- `investments` - PortfÃ³lio de investimentos
- `investment_transactions` - HistÃ³rico de compra/venda
- `recurring_transactions` - Template de recorrÃªncias
- `commitments` - Agenda financeira
- `budgets` - OrÃ§amentos por categoria
- `ai_insights` - Insights gerados pela IA
- `ai_usage` - Controle de uso de IA (server-side)
- `notifications` - Sistema de notificaÃ§Ãµes
- `support_tickets` - Tickets de suporte
- `user_settings` - PreferÃªncias do usuÃ¡rio

#### RLS Policies
- UsuÃ¡rios acessam apenas seus prÃ³prios dados
- Admins tÃªm acesso global (via `auth.jwt() ->> 'email'`)
- PolÃ­ticas separadas para SELECT, INSERT, UPDATE, DELETE

---

## ğŸ” SeguranÃ§a e Compliance

### AutenticaÃ§Ã£o e AutorizaÃ§Ã£o
- âœ… OAuth 2.0 com Google
- âœ… Session-based auth com cookies seguros
- âœ… Password hashing (Supabase Auth)
- âœ… Email verification obrigatÃ³ria
- âœ… Password reset seguro via token

### Privacidade (LGPD)
- âœ… Consentimento de cookies
- âœ… PolÃ­tica de privacidade completa
- âœ… Termos de uso detalhados
- âœ… ConfiguraÃ§Ãµes de privacidade por usuÃ¡rio
- âœ… Opt-out de notificaÃ§Ãµes
- âœ… Direito ao esquecimento (via suporte)

### ProteÃ§Ã£o de Dados
- âœ… Dados criptografados em trÃ¢nsito (TLS 1.3)
- âœ… Backup automÃ¡tico diÃ¡rio (Supabase)
- âœ… Row Level Security no banco
- âœ… API keys em variÃ¡veis de ambiente
- âœ… Rate limiting em APIs crÃ­ticas

---

## ğŸ“Š MÃ©tricas e Analytics

### KPIs DisponÃ­veis para Admin
- Total de usuÃ¡rios ativos
- DistribuiÃ§Ã£o de planos (Basic/Pro/Premium)
- Taxa de conversÃ£o (trial â†’ pago)
- Uso de IA por plano
- Tickets de suporte por prioridade
- Churn rate mensal
- MRR (Monthly Recurring Revenue)

### MÃ©tricas para UsuÃ¡rios
- Gastos mensais por categoria
- EvoluÃ§Ã£o patrimonial
- Taxa de cumprimento de metas
- Score de saÃºde financeira
- Comparativo mÃªs a mÃªs

---

## ğŸ¨ Design e UX

### Design System
- **Componentes**: shadcn/ui (headless + customizÃ¡vel)
- **Cores**: Sistema de design tokens via CSS variables
- **Temas**: Dark mode + Light mode automÃ¡tico
- **Responsividade**: Mobile-first (Tailwind breakpoints)
- **Acessibilidade**: ARIA labels + navegaÃ§Ã£o por teclado

### Fluxos Principais

#### 1. Onboarding
```
Cadastro â†’ Email Verification â†’ Login â†’ CriaÃ§Ã£o de Perfil â†’ 
Tutorial Interativo â†’ Primeira TransaÃ§Ã£o â†’ Dashboard
```

#### 2. Upgrade de Plano
```
Dashboard â†’ Ver LimitaÃ§Ãµes â†’ Modal de Upgrade â†’ 
Stripe Checkout â†’ Callback de Sucesso â†’ AtualizaÃ§Ã£o de Plano
```

#### 3. Uso de IA (Plano Basic)
```
Registro â†’ 22 dias de uso â†’ Countdown na UI â†’ 
LiberaÃ§Ã£o da IA â†’ 5 perguntas/semana â†’ Reset semanal
```

---

## ğŸš¢ Deploy e DevOps

### Ambiente de ProduÃ§Ã£o

#### Docker
```dockerfile
# Multi-stage build com standalone output
FROM node:22-slim AS base
# ... install dependencies
FROM base AS builder
# ... build with STANDALONE=true
FROM gcr.io/distroless/nodejs22-debian12 AS runner
# ... copy standalone output
EXPOSE 3000
CMD ["server.js"]
```

#### VariÃ¡veis de Ambiente NecessÃ¡rias
```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
SUPABASE_SERVICE_ROLE_KEY=eyJxxx...

# Stripe
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# OpenAI
OPENAI_API_KEY=sk-proj-xxx

# App
NEXT_PUBLIC_SITE_URL=https://moncoyfinance.com
NODE_ENV=production
STANDALONE=true
```

### CI/CD
- Build automÃ¡tico via Docker
- Deploy manual ou via GitHub Actions (futuro)
- Health checks na porta 3000
- Rollback automÃ¡tico em caso de erro

---

## ğŸ“ˆ Roadmap Futuro

### Q1 2026
- [ ] App mobile nativo (React Native)
- [ ] IntegraÃ§Ã£o com Open Banking
- [ ] ImportaÃ§Ã£o automÃ¡tica de extratos bancÃ¡rios
- [ ] Modo colaborativo (finanÃ§as familiares)

### Q2 2026
- [ ] Marketplace de templates de orÃ§amento
- [ ] GamificaÃ§Ã£o (badges, nÃ­veis, desafios)
- [ ] Comunidade de usuÃ¡rios (fÃ³rum)
- [ ] API pÃºblica para integraÃ§Ãµes

### Q3 2026
- [ ] Consultoria financeira ao vivo (Premium)
- [ ] Cursos de educaÃ§Ã£o financeira
- [ ] Sistema de afiliados
- [ ] VersÃ£o White Label para empresas

---

## ğŸ› Issues Conhecidos

### TypeScript
- âŒ 20 erros TypeScript remanescentes (tipos faltantes)
- âŒ Button variant "success" nÃ£o existe (usar "default")
- âŒ Propriedades faltantes em `Goal` e `SupportSettings`

### Performance
- âš ï¸ Dashboard faz mÃºltiplas queries independentes (nÃ£o otimizado)
- âš ï¸ 86+ console.logs em produÃ§Ã£o (migrar para logger)

### Admin
- âš ï¸ Emails admin hardcoded (mover para env vars)

---

## ğŸ“š DocumentaÃ§Ã£o Adicional

### Documentos Relacionados
- `ALTERACOES-REALIZADAS.md` - Changelog completo
- `ANALISE-CODIGO.md` - AnÃ¡lise tÃ©cnica detalhada
- `GOOGLE_AUTH_CUSTOMIZATION.md` - Setup OAuth Google
- `README-PRODUCTION.md` - Guia de produÃ§Ã£o
- `AI-USAGE-MIGRATION.md` - MigraÃ§Ã£o do sistema de IA

### Links Ãšteis
- [Supabase Dashboard](https://app.supabase.com)
- [Stripe Dashboard](https://dashboard.stripe.com)
- [OpenAI Usage](https://platform.openai.com/usage)
- [Vercel Analytics](https://vercel.com/analytics)

---

## ğŸ¤ Suporte e Contato

### Para UsuÃ¡rios
- **Email**: suporte@moncoyfinance.com
- **WhatsApp**: +55 11 9xxxx-xxxx (Pro/Premium)
- **Chat**: DisponÃ­vel no app (Pro/Premium)

### Para Desenvolvedores
- **RepositÃ³rio**: GitHub (privado)
- **Issues**: GitHub Issues
- **Docs**: `/docs` no repositÃ³rio

---

## ğŸ“„ LicenÃ§a

**Proprietary Software**  
Â© 2025 MoncoyFinance. Todos os direitos reservados.

---

**Ãšltima atualizaÃ§Ã£o:** 24 de outubro de 2025  
**VersÃ£o do documento:** 1.0  
**Autor:** Sistema de DocumentaÃ§Ã£o MoncoyFinance
